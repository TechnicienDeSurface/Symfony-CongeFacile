{% extends 'base.html.twig' %}
{% block body %}
     <script>
        function calculerJoursOuvres() {
            var date1 = new Date(document.getElementById('date1').value);
            var date2 = new Date(document.getElementById('date2').value);
            var joursOuvres = 0;

            if (date1 && date2 && date1 <= date2) {
                var currentDate = new Date(date1);
                while (currentDate <= date2) {
                    var dayOfWeek = currentDate.getDay();
                    if (dayOfWeek !== 0 && dayOfWeek !== 6) { // Exclure les dimanches (0) et samedis (6)
                        joursOuvres++;
                    }
                    currentDate.setDate(currentDate.getDate() + 1);
                }
            }

            document.getElementById('joursOuvres').value = joursOuvres;
        }
    </script>
    {{ form_start(form) }}
        {{ form_row(form.start_at, {'attr': {'id': 'date1', 'oninput': 'calculerJoursOuvres()'}}) }}
        {{ form_row(form.end_at, {'attr': {'id': 'date2', 'oninput': 'calculerJoursOuvres()'}}) }}
        {{ form_row(form.working_days, {'attr': {'id': 'joursOuvres', 'readonly': true}}) }}
    {{ form_end(form) }}
{% endblock %}